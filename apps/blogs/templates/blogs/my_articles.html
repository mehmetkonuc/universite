{% extends 'partials/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/vendor/libs/bootstrap-select/bootstrap-select.css' %}" />
<link rel="stylesheet" href="{% static 'assets/vendor/libs/spinkit/spinkit.css' %}" />

<style>
   .card img {
   height: 200px; /* İstediğiniz yükseklik */
   object-fit: cover; /* Resmi alanın tamamına sığdır */
   width: 100%; /* Resmi genişliğe yay */
   }
</style>
{% endblock extra_css%}
{% block content %}
<div class="d-flex bd-highlight mb-4">
   <div class="p-2 flex-grow-1 bd-highlight">
   </div>
   <div class="bd-highlight me-4">
      <a href="{% url 'article_add' %}" class="btn btn-sm btn-label-primary rounded-pill" ><i class="ti ti-plus me-1"></i>Oluştur</a>
   </div>
   <div class="bd-highlight">
      <button class="btn btn-sm btn-label-danger rounded-pill" data-bs-toggle="offcanvas" data-bs-target="#filter-canvas" aria-controls="offcanvasEnd"><i class="ti ti-filter-check me-1"></i>Filtre</button>
   </div>
 </div>

<div  class="mb-4">
   <h3 class="mb-0 fw-bold">Makalelerim</h3>
</div>
{% if messages %}
{% for message in messages %}
<div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
   {{ message }}
</div>
{% endfor %}
{% endif %}
<!-- Makaleler Grid Yapısı -->
<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4" id="article-container">
   {% include 'blogs/article_list.html' %}
</div>
<!-- Yükleniyor Görüntüsü -->
<div id="loading" style="display: none; text-align: center;">
   <div class="col d-flex justify-content-center  align-items-center">
      <!-- Circle -->
      <div class="sk-fold sk-primary">
         <div class="sk-fold-cube"></div>
         <div class="sk-fold-cube"></div>
         <div class="sk-fold-cube"></div>
         <div class="sk-fold-cube"></div>
       </div>
    </div>
</div>
<!-- Canvas -->
<div
   class="offcanvas offcanvas-end"
   tabindex="-1"
   id="filter-canvas"
   aria-labelledby="offcanvasEndLabel">
   <div class="offcanvas-header">
      <h5 id="offcanvasEndLabel" class="offcanvas-title">Filtrele</h5>
      <button
         type="button"
         class="btn-close text-reset"
         data-bs-dismiss="offcanvas"
         aria-label="Close"></button>
   </div>
   <div class="offcanvas-body">
      <form method="post">
         {% csrf_token %}
         {{filter_form|crispy}}
         <button type="submit" class="btn btn-primary mb-2 d-grid w-100">Filtrele</button>
         <button type="submit" class="btn btn-danger mb-2 d-grid w-100" name="reset_filter">Filtreyi Temizle</button>
         <button
            type="button"
            class="btn btn-label-secondary d-grid w-100"
            data-bs-dismiss="offcanvas">
         Vazgeç
         </button>
      </form>
   </div>
</div>
<!-- End Canvas -->
{% endblock content %}
{% block extra_javascript %}
<script src="{% static 'assets/vendor/libs/bootstrap-select/bootstrap-select.js' %}"></script>
<script src="{% static 'assets/js/pages/blogs/infinite-scroll.js' %}"></script>
{% endblock extra_javascript %}